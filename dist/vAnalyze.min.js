!function(){function a(b,c){return b?b.hasOwnProperty(c)?b:a(b.__proto__,c):"Object"}function b(a,b){this.that=a,this.dummy=b||!1,this.properties={},this.__ignore__=!0}function c(a){var c;return void 0==a||null==a||!Object.isExtensible(a)||a.__ignore__?new b(a,!0):a instanceof Number||a instanceof String||a instanceof Boolean?new b(a.valueOf(),!0):(c=new b(a),Object.defineProperty(a,"__infection__",{value:c,enumerable:!1}),c)}function d(b){var d;if(this.__infection__)return this.__infection__;if(d=c(this),!d.dummy)for(var f in this)if(!e.properties[f]){var g=this;this.hasOwnProperty(f)||(g=a(this.__proto__,f)),g[f]=g[f].infect().wrap(),g.infect().prop(f)}return d}b.prototype=d;var e={properties:{toString:!0},constructors:[Number,String,Boolean]};Object.defineProperty(Object.prototype,"infect",{value:d,enumerable:!1}),Object.prototype.infect.__ignore__=!0}(),function(){function a(){var a,b=this.__proto__===Object.infect,c=b?this.that:this;if("function"!=typeof c||c.__ignore__||!b)return c;if(this.original)return this.that;a=function(){var a;return a=c.apply(this,arguments),this instanceof c?this.infect():a&&a.infect&&(a=a.infect().wrap()),a},a.prototype=c.prototype,a.__proto__=c.__proto__;for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);Object.defineProperty(c,"__wrapper__",{value:a,enumerable:!1}),a.toString=function(){return c.toString()},a.toString.__infection__=c.toString.__infection__,a.__infection__=c.__infection__,a.__infection__.that=a,a.__infection__.original=c;for(var e in Object.prototype.infect.func)a.__infection__[e]=Object.prototype.infect.func[e];return a}Object.defineProperty(Object.prototype.infect.__proto__,"wrap",{value:a,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.wrap,"__ignore__",{value:!0,enumerable:!1})}(),function(){function a(a,b){var c,d=this.that;d.__infection__||d.infect(),c={name:a,host:d,get:function(){return d[a]},set:function(b){d[a]=b},watch:function(){},history:[],onChange:function(){}},b&&(c.get=b.get||c.get,c.set=b.set||c.get,c.alias=b.alias||c.alias,c.onChange=b.onChange||c.onChange),d.__infection__.properties[a]=c}Object.defineProperty(Object.prototype.infect.__proto__,"prop",{value:a,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.prop,"__ignore__",{value:!0,enumerable:!1})}(),function(){function a(a,b){var d=!0;return b?(Object.keys(b).forEach(function(e){c[e]&&(d=d&&c[e](a,b[e]))}),d):!0}function b(b){var c,d=(this.that,[]);for(var e in this.properties)this.properties.hasOwnProperty(e)&&(a(this.properties[e],b)&&d.push(this.properties[e]),c=this.properties[e].get().infect(),c&&(d=d.concat(c.search(b))));return d}var c={name:function(a,b){return a.name===b},names:function(a,b){return-1!==b.indexOf(a.name)},value:function(a,b){return a.get()===b},values:function(a,b){var c=a.get();return-1!==b.indexOf(c)},custom:function(a,b){return b(a)}};Object.defineProperty(Object.prototype.infect.__proto__,"search",{value:b,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.search,"__ignore__",{value:!0,enumerable:!1})}(),function(){Object.defineProperty(Object.prototype.infect,"func",{value:{},enumerable:!1})}();