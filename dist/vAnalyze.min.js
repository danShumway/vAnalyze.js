!function(){"use strict";var a={infectionMap:new WeakMap};Object.defineProperty(Object.prototype,"__vAnalyze__",{value:a,enumerable:!1}),Object.getPrototypeOf=function(a){return a.__proto__},Object.setPrototypeOf=function(a,b){a.__proto__=b}}(),function(){"use strict";function a(a){return a instanceof Object}function b(a,c){return a?a.hasOwnProperty(c)?a:b(a.__proto__,c):"Object"}function c(a,b){return{isExtensible:function(){return Object.isExtensible(a)},preventExtensions:function(){return Object.preventExtensions(a)},getOwnPropertyDescriptor:function(b,c){if("__proto__"===c)return void 0;var d=Object.getOwnPropertyDescriptor(a,c);return c in b||Object.defineProperty(b,c,d),d},defineProperty:function(b,c,d){return Object.defineProperty(a,c,d)},"delete":function(b,c){return delete a[c]},enumerate:function(b){return Object.keys(a)[Symbol.iterator]()},ownKeys:function(b){return Object.getOwnPropertyNames(a)},has:function(b,c){return c in a},construct:function(b,c){var d={};return a.apply(d,c),d},get:function(c,d,e){return a.hasOwnProperty(d)?(b[d]=a[d],a[d]):b[d]},set:function(c,d,e,f){console.log("set: ",d),b[d]=e,a[d]=e},apply:function(b,c,d){var e;return Object.__vAnalyze__.stack.push({args:d,that:c,method:a,result:void 0}),e=Object.infect(a.apply(c,d)),Object.__vAnalyze__.stack.resolve(e),e}}}function d(b,d){var e,f;return a(b)?(e=b instanceof Function?function(){}:{},f=new Proxy(e,c(b,e)),e.__proto__=b.__proto__,b.__proto__=e,Object.defineProperty(b,"__proto__",{enumerable:!1,get:function(){return e.__proto__},set:function(a){e.__proto__=a}}),Object.defineProperty(b,"__infection__",{enumerable:!1,value:f}),Object.__vAnalyze__.infectionMap.set(b,f),f):b}function e(a,c){var g,h;if(0===arguments.length&&(a=this),g=Object.__vAnalyze__.infectionMap.get(a))return g;for(h in a)f.properties[h]||null==a[h]||(b(a,h)[h]=e(a[h]));return d(a,c)}var f={properties:{toString:!0},constructors:[Number,String,Boolean]};Object.defineProperty(Object.prototype,"infect",{value:e,enumerable:!1}),Object.prototype.infect.__ignore__=!0}(),function(){function a(){var a,b=this.__proto__===Object.infect,c=b?this.that:this;if("function"!=typeof c||c.__ignore__||!b)return c;if(this.original)return this.that;a=function(){var a;return a=c.apply(this,arguments),this instanceof c?this.infect():a&&a.infect&&(a=a.infect().wrap()),a},a.prototype=c.prototype,a.__proto__=c.__proto__;for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);Object.defineProperty(c,"__wrapper__",{value:a,enumerable:!1}),a.toString=function(){return c.toString()},a.toString.__infection__=c.toString.__infection__,a.__infection__=c.__infection__,a.__infection__.that=a,a.__infection__.original=c;for(var e in Object.prototype.infect.func)a.__infection__[e]=Object.prototype.infect.func[e];return a}Object.defineProperty(Object.prototype.infect.__proto__,"wrap",{value:a,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.wrap,"__ignore__",{value:!0,enumerable:!1})}(),function(){function a(a,b){var c,d=this.that;d.__infection__||d.infect(),c={name:a,host:d,get:function(){return d[a]},set:function(b){d[a]=b},watch:function(){},history:[],onChange:function(){}},b&&(c.get=b.get||c.get,c.set=b.set||c.get,c.alias=b.alias||c.alias,c.onChange=b.onChange||c.onChange),d.__infection__.properties[a]=c}Object.defineProperty(Object.prototype.infect.__proto__,"prop",{value:a,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.prop,"__ignore__",{value:!0,enumerable:!1})}(),function(){function a(a,b){var d=!0;return b?(Object.keys(b).forEach(function(e){c[e]&&(d=d&&c[e](a,b[e]))}),d):!0}function b(b){var c,d=(this.that,[]);for(var e in this.properties)this.properties.hasOwnProperty(e)&&(a(this.properties[e],b)&&d.push(this.properties[e]),c=this.properties[e].get().infect(),c&&(d=d.concat(c.search(b))));return d}var c={name:function(a,b){return a.name===b},names:function(a,b){return-1!==b.indexOf(a.name)},value:function(a,b){return a.get()===b},values:function(a,b){var c=a.get();return-1!==b.indexOf(c)},custom:function(a,b){return b(a)}};Object.defineProperty(Object.prototype.infect.__proto__,"search",{value:b,enumerable:!1}),Object.defineProperty(Object.prototype.infect.__proto__.search,"__ignore__",{value:!0,enumerable:!1})}(),function(){"use strict";var a=[];Object.__vAnalyze__.stack={namespaces:{},record:function(b,c,d,e){var f={args:[],subStack:[],result:[]};Object.__vAnalyze__.stack.namespaces[b]={position:f,root:f},a.push(b)},stop:function(b){var c=a.indexOf(b);c>-1&&(a=a.splice(c,1))},push:function(b){a.forEach(function(a){var c=Object.__vAnalyze__.stack.namespaces[a];c.position.subStack.push(b),b.caller=c.position,b.subStack=[],c.position=b})},resolve:function(b){a.forEach(function(a){var c=Object.__vAnalyze__.stack.namespaces[a];console.log("called"),c.position.result=b,console.log("/"),c.position=c.position.caller})}}}(),function(){Object.defineProperty(Object.prototype.infect,"func",{value:{},enumerable:!1})}();